<div class="content-body" *ngIf="stats">
  <div class="container-fluid">
    <div class="row page-titles">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="javascript:void(0)">Admin</a></li>
        <li class="breadcrumb-item active"><a href="javascript:void(0)">Setup Dashboard</a></li>
      </ol>
    </div>
    <div class="row">
      <div class="col-xl-6 col-xxl-4 col-lg-12">
        <div class="card">
          <div class="card-header border-0 pb-0">
            <h4 class="card-title">TO DO</h4>
          </div>
          <hr />
          <div class="card-body px-0">
            <div id="DZ_W_Todo1" class="widget-media dlab-scroll height370 px-4">
              <ul class="timeline">
                <li *ngIf="!stats.companyConfigured">
                  <a class="timeline-panel text-decoration-none" href="javascript:void(0)">
                    <div class="media me-2 media-success">
                      <i class="fas fa-building"></i>
                    </div>
                    <div class="media-body">
                      <h5 class="mb-1">Company Setup</h5>
                      <p class="mb-0">Configure company information</p>
                    </div>
                  </a>
                </li>
                <li *ngIf="stats.companyConfigured">
                  <a class="timeline-panel text-decoration-none" href="javascript:void(0)">
                    <div class="media me-2 media-success">
                      <i class="fas fa-building text-success"></i>
                    </div>
                    <div class="media-body">
                      <h5 class="mb-1 text-success">✓ Company Configured</h5>
                      <p class="mb-0">Company information is set up</p>
                    </div>
                  </a>
                </li>

                <li *ngIf="!stats.letterHeadConfigured">
                  <a class="timeline-panel text-decoration-none" href="javascript:void(0)">
                    <div class="media me-2 media-success">
                      <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="media-body">
                      <h5 class="mb-1">Letter Head Setup</h5>
                      <p class="mb-0">Configure letter head settings</p>
                    </div>
                  </a>
                </li>
                <li *ngIf="stats.letterHeadConfigured">
                  <a class="timeline-panel text-decoration-none" href="javascript:void(0)">
                    <div class="media me-2 media-success">
                      <i class="fas fa-file-alt text-success"></i>
                    </div>
                    <div class="media-body">
                      <h5 class="mb-1 text-success">✓ Letter Head Configured</h5>
                      <p class="mb-0">Letter head settings are configured</p>
                    </div>
                  </a>
                </li>

                <li>
                  <a class="timeline-panel text-decoration-none" href="javascript:void(0)">
                    <div class="media me-2 media-success">
                      <i class="fas fa-user"></i>
                    </div>
                    <div class="media-body">
                      <h5 class="mb-1">Add Users</h5>
                      <p class="mb-0">Create and manage system users</p>
                    </div>
                  </a>
                </li>

                <li>
                  <a class="timeline-panel text-decoration-none" href="javascript:void(0)">
                    <div class="media me-2 media-success">
                      <i class="fas fa-users-cog"></i>
                    </div>
                    <div class="media-body">
                      <h5 class="mb-1">Manage Roles</h5>
                      <p class="mb-0">Configure user roles and permissions</p>
                    </div>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xl-6 col-xxl-8 col-lg-12">
        <div class="col-xl-12">
          <div class="card">
            <div class="card-body">
              <div class="row shapreter-row">
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-users"></i></span>
                    <h3 class="count mb-0">{{ stats.totalUsers }}</h3>
                    <p class="mb-0">Total Users</p>
                  </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-users"></i></span>
                    <h3 class="count mb-0">{{ stats.systemUsers }}</h3>
                    <p class="mb-0">System Users</p>
                  </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-users"></i></span>
                    <h3 class="count mb-0">{{ stats.activeUsers }}</h3>
                    <p class="mb-0">Active Users</p>
                  </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-users"></i></span>
                    <h3 class="count mb-0">{{ stats.inactiveUsers }}</h3>
                    <p class="mb-0">Inactive Users</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-xl-12">
          <div class="card">
            <div class="card-body">
              <div class="row shapreter-row">
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-building"></i></span>
                    <h3 class="count mb-0">{{ stats.companyConfigured ? 1 : 0 }}</h3>
                    <p class="mb-0">Company</p>
                  </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-file-alt"></i></span>
                    <h3 class="count mb-0">{{ stats.letterHeadConfigured ? 1 : 0 }}</h3>
                    <p class="mb-0">Letter Head</p>
                  </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-globe"></i></span>
                    <h3 class="count mb-0">0</h3>
                    <p class="mb-0">Email Domains</p>
                  </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-sm-4 col-6">
                  <div class="static-icon">
                    <span><i class="fas fa-envelope"></i></span>
                    <h3 class="count mb-0">0</h3>
                    <p class="mb-0">Email Accounts</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="stats === null" class="text-center mt-5">
  <p>Loading setup dashboard...</p>
</div>

<div *ngIf="stats === undefined" class="text-center mt-5">
  <div class="alert alert-danger">
    <h4>Error Loading Dashboard</h4>
    <p>Unable to load setup dashboard. Please check the console for details.</p>
  </div>
</div>
